-- Cricket Benchmark DDL for Oracle
DROP TABLE pitchDetails CASCADE CONSTRAINTS PURGE;
DROP TABLE gameDetails CASCADE CONSTRAINTS PURGE;
DROP TABLE playerDetails CASCADE CONSTRAINTS PURGE;
DROP TABLE teamDetails CASCADE CONSTRAINTS PURGE;

-- teamDetails table
CREATE TABLE teamDetails (
    teamid NUMBER NOT NULL,
    city VARCHAR2(50),
    name VARCHAR2(50),
    abbr VARCHAR2(5),
    leagueid NUMBER(5),
    divisionid NUMBER(5),
    organizationid NUMBER(5),
    levelid NUMBER(5),
    homepage VARCHAR2(200),
    homevenueid NUMBER,
    statsteamid NUMBER(5),
    mlbamteamid NUMBER(5),
    mlbamteamname VARCHAR2(80),
    mlbclub VARCHAR2(20),
    mlborg VARCHAR2(3),
    mlblevel VARCHAR2(2),
    npbteamid NUMBER(5),
    boydteamid NUMBER,
    csteamid VARCHAR2(5),
    bisteamid NUMBER(5),
    howeteamid NUMBER(5),
    pointstreakteamid NUMBER(5),
    trackmanteamid VARCHAR2(55),
    sportvisionteamid NUMBER(5),
    ncaateamid NUMBER,
    schoolid NUMBER,
    active CHAR(1) CHECK (active IN ('0','1')),
    cartwrightteamid VARCHAR2(50),
    kboteamid NUMBER(5),
    onitteamid NUMBER,
    fieldfxteamid NUMBER(5),
    CONSTRAINT pk_teamDetails PRIMARY KEY (teamid)
);

-- playerDetails table
CREATE TABLE playerDetails (
    teamid NUMBER NOT NULL,
    playerid NUMBER NOT NULL,
    lastname VARCHAR2(40),
    firstname VARCHAR2(40),
    middlename VARCHAR2(40),
    usesname VARCHAR2(40),
    bats NUMBER(5),
    throws NUMBER(5),
    agentid NUMBER(5),
    agencyid NUMBER(5),
    organizationid NUMBER(5),
    firstyear NUMBER(5),
    lastyear NUMBER(5),
    birthdate TIMESTAMP,
    birthcity VARCHAR2(100),
    birthcountry VARCHAR2(40),
    birthstate VARCHAR2(40),
    college VARCHAR2(80),
    isamateur CHAR(1) CHECK (isamateur IN ('0','1')),
    class NUMBER(5),
    height NUMBER(5),
    weight NUMBER(5),
    active CHAR(1) CHECK (active IN ('0','1')),
    fatype NUMBER(5),
    ison40manroster CHAR(1) CHECK (ison40manroster IN ('0','1')),
    ebispotentialmnfa CHAR(1) CHECK (ebispotentialmnfa IN ('0','1')),
    position NUMBER(5),
    rosterposition NUMBER(5),
    primaryposition NUMBER(5),
    number NUMBER(5),
    openingdaymjservice NUMBER(5,3),
    mjservice NUMBER(5,3),
    projmjservice NUMBER(5,3),
    establishedmlb CHAR(1) CHECK (establishedmlb IN ('0','1')),
    optionsused NUMBER(5),
    optionstotal NUMBER(5),
    outofoptions CHAR(1) CHECK (outofoptions IN ('0','1')),
    hadprioroutright CHAR(1) CHECK (hadprioroutright IN ('0','1')),
    isr5elig CHAR(1) CHECK (isr5elig IN ('0','1')),
    r5eligyear NUMBER(5),
    mnfayear NUMBER(5),
    rosterstate NUMBER(5),
    mlbdraftnumber NUMBER(5),
    waiversrequireddate TIMESTAMP,
    assignmentoptiondays NUMBER(5),
    prioroutrightdate TIMESTAMP,
    mncontractyears NUMBER(5),
    mnserviceyears NUMBER(5),
    mnrosterstatus NUMBER(5),
    mjrosterstatus NUMBER(5),
    lastupdatedate TIMESTAMP,
    schoolid NUMBER,
    r4eligyear NUMBER(5),
    biourl VARCHAR2(200),
    headshoturl VARCHAR2(200),
    isinternational CHAR(1) CHECK (isinternational IN ('0','1')),
    countryid NUMBER(5),
    mjfayear NUMBER(5),
    isr5selection CHAR(1) CHECK (isr5selection IN ('0','1')),
    inteligyear NUMBER(5),
    coachid NUMBER,
    isactivecoach CHAR(1) CHECK (isactivecoach IN ('0','1')),
    twoway NUMBER(5),
    search_column VARCHAR2(4000),
    fourthoptionyears NUMBER(5),
    fourthoptionyearslist VARCHAR2(100),
    optionyearschargedlist VARCHAR2(100),
    optiondayscurrseason NUMBER,
    currentyearoptions NUMBER(5),
    currentseasonmlsdays NUMBER(5),
    last_game_played NUMBER DEFAULT 0,
    CONSTRAINT pk_playerDetails PRIMARY KEY (teamid, playerid),
    CONSTRAINT fk_playerDetails_team FOREIGN KEY (teamid) REFERENCES teamDetails(teamid) ON DELETE CASCADE
);

-- gameDetails table
CREATE TABLE gameDetails (
    teamid NUMBER NOT NULL,
    gameid NUMBER NOT NULL,
    yearid NUMBER(5),
    hometeamid NUMBER(5),
    awayteamid NUMBER(5),
    homescore NUMBER(5),
    awayscore NUMBER(5),
    gamedate TIMESTAMP,
    gametype NUMBER(5),
    gamestatus NUMBER(5),
    gamenum NUMBER(5),
    levelid NUMBER(5),
    leagueid NUMBER(5),
    venueid NUMBER,
    venueversion NUMBER(5),
    statsgamecode NUMBER,
    mlbamgamepk NUMBER,
    mlbamgameid VARCHAR2(50),
    npbgameid NUMBER,
    bisgameid NUMBER,
    inbats CHAR(1) CHECK (inbats IN ('0','1')),
    inhd CHAR(1) CHECK (inhd IN ('0','1')),
    hasplaydata CHAR(1) CHECK (hasplaydata IN ('0','1')),
    haspitchdata CHAR(1) CHECK (haspitchdata IN ('0','1')),
    haspitchfxdata CHAR(1) CHECK (haspitchfxdata IN ('0','1')),
    hashitfxdata CHAR(1) CHECK (hashitfxdata IN ('0','1')),
    wplayerid NUMBER,
    lplayerid NUMBER,
    splayerid NUMBER,
    howegameid NUMBER,
    boydgameid NUMBER,
    csgameid VARCHAR2(14),
    svgameid NUMBER,
    batsgameid NUMBER,
    trackmangameid VARCHAR2(75),
    rvpclientid NUMBER,
    rvpgameid NUMBER,
    ncaagameid NUMBER,
    lastupdatedate TIMESTAMP,
    ieclientid NUMBER,
    iegameid NUMBER,
    cartwrightgameid VARCHAR2(13),
    isnight CHAR(1) CHECK (isnight IN ('0','1')),
    isturf CHAR(1) CHECK (isturf IN ('0','1')),
    dhtype NUMBER(5),
    hasstatcast CHAR(1) CHECK (hasstatcast IN ('0','1')),
    kbogameid NUMBER,
    synergygameid CHAR(24),
    hasfieldfxdata CHAR(1) CHECK (hasfieldfxdata IN ('0','1')),
    usesabs CHAR(1) CHECK (usesabs IN ('0','1')),
    hawkeyegameid NUMBER,
    pointstreakgameid NUMBER,
    roofclosed CHAR(1) CHECK (roofclosed IN ('0','1')),
    officialdate DATE,
    originaldate DATE,
    fieldfxgameid VARCHAR2(26),
    hasbattracking CHAR(1) CHECK (hasbattracking IN ('0','1')),
    CONSTRAINT pk_gameDetails PRIMARY KEY (teamid, gameid),
    CONSTRAINT fk_gameDetails_team FOREIGN KEY (teamid) REFERENCES teamDetails(teamid) ON DELETE CASCADE
);

-- pitchDetails table
CREATE TABLE pitchDetails (
    teamid NUMBER NOT NULL,
    gameid NUMBER NOT NULL,
    eventseq NUMBER(5),
    pitchseq NUMBER,
    yearid NUMBER(5),
    balls NUMBER(5),
    strikes NUMBER(5),
    result NUMBER(5),
    type NUMBER(5),
    velocity NUMBER(6,3),
    batterid NUMBER,
    pitcherid NUMBER,
    islastpitch CHAR(1) CHECK (islastpitch IN ('0','1')),
    count00 CHAR(1) CHECK (count00 IN ('0','1')),
    count01 CHAR(1) CHECK (count01 IN ('0','1')),
    count02 CHAR(1) CHECK (count02 IN ('0','1')),
    count10 CHAR(1) CHECK (count10 IN ('0','1')),
    count11 CHAR(1) CHECK (count11 IN ('0','1')),
    count12 CHAR(1) CHECK (count12 IN ('0','1')),
    count20 CHAR(1) CHECK (count20 IN ('0','1')),
    count21 CHAR(1) CHECK (count21 IN ('0','1')),
    count22 CHAR(1) CHECK (count22 IN ('0','1')),
    count30 CHAR(1) CHECK (count30 IN ('0','1')),
    count31 CHAR(1) CHECK (count31 IN ('0','1')),
    count32 CHAR(1) CHECK (count32 IN ('0','1')),
    ispitch CHAR(1) CHECK (ispitch IN ('0','1')),
    isball CHAR(1) CHECK (isball IN ('0','1')),
    isstrike CHAR(1) CHECK (isstrike IN ('0','1')),
    isswing CHAR(1) CHECK (isswing IN ('0','1')),
    isinstrikezone CHAR(1) CHECK (isinstrikezone IN ('0','1')),
    isaway CHAR(1) CHECK (isaway IN ('0','1')),
    isin CHAR(1) CHECK (isin IN ('0','1')),
    isup CHAR(1) CHECK (isup IN ('0','1')),
    isdown CHAR(1) CHECK (isdown IN ('0','1')),
    statszone1 CHAR(1),
    statszone2 NUMBER(5),
    isofficial CHAR(1) CHECK (isofficial IN ('0','1')),
    outzaway CHAR(1) CHECK (outzaway IN ('0','1')),
    outzin CHAR(1) CHECK (outzin IN ('0','1')),
    outzup CHAR(1) CHECK (outzup IN ('0','1')),
    outzdown CHAR(1) CHECK (outzdown IN ('0','1')),
    istake CHAR(1) CHECK (istake IN ('0','1')),
    isinplay CHAR(1) CHECK (isinplay IN ('0','1')),
    isfoul CHAR(1) CHECK (isfoul IN ('0','1')),
    isbunt CHAR(1) CHECK (isbunt IN ('0','1')),
    iscontact CHAR(1) CHECK (iscontact IN ('0','1')),
    iscatcherblock CHAR(1) CHECK (iscatcherblock IN ('0','1')),
    iscatcherdrop CHAR(1) CHECK (iscatcherdrop IN ('0','1')),
    iscrossup CHAR(1) CHECK (iscrossup IN ('0','1')),
    npbcoorx NUMBER(5),
    npbcoory NUMBER(5),
    pitchtotal NUMBER(5),
    bcbefore NUMBER(5),
    bcafter NUMBER(5),
    outsbefore NUMBER(5),
    outsafter NUMBER(5),
    scorebattingbefore NUMBER(5),
    scorebattingafter NUMBER(5),
    islhp CHAR(1) CHECK (islhp IN ('0','1')),
    islhb CHAR(1) CHECK (islhb IN ('0','1')),
    repeatpitchseq NUMBER(5),
    abpitchseq NUMBER(5),
    statstype NUMBER(5),
    npbtype NUMBER(5),
    batstype NUMBER(5),
    charttype NUMBER(5),
    fxtype NUMBER(5),
    trackmantype NUMBER(5),
    rvptype NUMBER(5),
    statsvelocity NUMBER(5),
    npbvelocity NUMBER(6,3),
    batsvelocity NUMBER(5),
    chartvelocity NUMBER(5),
    fxvelocity NUMBER(6,3),
    trackmanvelocity NUMBER(6,3),
    rvpvelocity NUMBER(5),
    initspeed NUMBER(6,3),
    breakx NUMBER(6,3),
    breakz NUMBER(6,3),
    platex NUMBER(6,3),
    platez NUMBER(6,3),
    initposx_55 NUMBER(6,3),
    initposz_55 NUMBER(6,3),
    bisresultid NUMBER(5),
    source NUMBER(5),
    ietype NUMBER(5),
    ievelocity NUMBER(5),
    bistype NUMBER(5),
    bisvelocity NUMBER(5),
    extension NUMBER(6,3),
    spinrate NUMBER(8,3),
    correctedtype NUMBER(5),
    pitchindirt CHAR(1) CHECK (pitchindirt IN ('0','1')),
    statspseq NUMBER(5),
    mlbampseq NUMBER(5),
    batspseq NUMBER(5),
    trackmanpseq NUMBER(5),
    rvppseq NUMBER,
    catcherbackpick NUMBER(5),
    catcherkneestart NUMBER(5),
    catcherkneefall NUMBER(5),
    runnersinmotion NUMBER(5),
    checkswing NUMBER(5),
    throwtoplate NUMBER(5),
    kbotype NUMBER(5),
    kbovelocity NUMBER(6,3),
    pstrike NUMBER(9,7),
    synergytype NUMBER(5),
    synergyvelocity NUMBER(6,3),
    playid RAW(16),
    hawkeyetype NUMBER(5),
    hawkeyevelocity NUMBER(6,3),
    pitchtime TIMESTAMP,
    breakx54 NUMBER(6,3),
    breakz54 NUMBER(6,3),
    pickoffbase NUMBER(5),
    mlbamvelocity NUMBER(6,3),
    mlbampitchtype NUMBER(5),
    mlbamspinrate NUMBER(10,3),
    priormoundvisit CHAR(1) CHECK (priormoundvisit IN ('0','1')),
    priorbattertimeout CHAR(1) CHECK (priorbattertimeout IN ('0','1')),
    priordisengagementcount NUMBER(5),
    violationreason VARCHAR2(50),
    fxsubtype NUMBER(5),
    armangle NUMBER(6,3),
    armangle_source NUMBER(5),
    isdisengagement CHAR(1) CHECK (isdisengagement IN ('0','1')),
    initspeed54 NUMBER(6,3),
    correctedfxsubtype NUMBER(5),
    CONSTRAINT pk_pitchDetails PRIMARY KEY (teamid, gameid)
);

-- Create indexes for better performance
CREATE INDEX idx_playerDetails_teamid ON playerDetails(teamid);
CREATE INDEX idx_playerDetails_last_game_played ON playerDetails(last_game_played);
CREATE INDEX idx_gameDetails_teamid ON gameDetails(teamid);
CREATE INDEX idx_gameDetails_gamedate ON gameDetails(gamedate);
CREATE INDEX idx_pitchDetails_teamid_gameid ON pitchDetails(teamid, gameid); 