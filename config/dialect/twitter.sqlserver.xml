<?xml version="1.0" encoding="utf-8"?>
<dialect xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="SQLSERVER" xsi:noNamespaceSchemaLocation="dialect.xsd">
    <procedures>
        <procedure name="GetTweet">
            <statements>
                <statement name="getTweet">
                    SELECT * FROM "tweets" WHERE id = ?
                </statement>
            </statements>
        </procedure>
        <procedure name="GetTweetsFromFollowing">
            <statements>
                <statement name="getFollowing">
                    SELECT TOP 20 f2 FROM "follows" WHERE f1 = ?
                </statement>
                <statement name="getTweets">
                    SELECT * FROM "tweets" WHERE uid IN (??)
                </statement>
            </statements>
        </procedure>
        <procedure name="GetFollowers">
            <statements>
                <statement name="getFollowers">
                    SELECT TOP 20 f2 FROM "followers" WHERE f1 = ?
                </statement>
                <statement name="getFollowerNames">
                    SELECT uid, name FROM "user_profiles" WHERE uid IN (??)
                </statement>
            </statements>
        </procedure>
        <procedure name="GetUserTweets">
            <statements>
                <statement name="getTweets">
                    SELECT TOP 10 * FROM "tweets" WHERE uid = ?
                </statement>
            </statements>
        </procedure>
    </procedures>
</dialect>
